<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>App Hub - British Sugar</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-font-smoothing: antialiased; }

  body {
    min-height: 100vh;
    background: #f8f9fa;
    color: #2d3748;
    font-family: 'Segoe UI', system-ui, sans-serif;
    padding: 0;
  }

  /* Header bar */
  .top-bar {
    background: white;
    border-bottom: 3px solid #8BC53F;
    padding: 16px 32px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  .logo-area {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .logo-circle {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8BC53F 0%, #7AB82E 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 24px;
    color: white;
    box-shadow: 0 4px 12px rgba(139, 197, 63, 0.3);
  }

  .logo-text {
    display: flex;
    flex-direction: column;
  }

  .logo-text .main {
    font-size: 22px;
    font-weight: 700;
    color: #2d3748;
    letter-spacing: -0.5px;
  }

  .logo-text .sub {
    font-size: 12px;
    color: #718096;
    margin-top: -2px;
  }

  .export-btn {
    background: #8BC53F;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(139, 197, 63, 0.3);
  }
  .export-btn:hover {
    background: #7AB82E;
    box-shadow: 0 4px 12px rgba(139, 197, 63, 0.4);
    transform: translateY(-1px);
  }

  /* Main container */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 32px;
  }

  /* Page header */
  .page-header {
    margin-bottom: 32px;
  }

  .page-header h1 {
    font-size: 32px;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 8px;
  }

  .page-header p {
    color: #718096;
    font-size: 16px;
  }

  /* Modal */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  .modal {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 28px;
    max-width: 600px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
  }
  .modal h2 {
    font-size: 22px;
    margin-bottom: 12px;
    color: #2d3748;
  }
  .modal p {
    color: #718096;
    font-size: 14px;
    margin-bottom: 20px;
    line-height: 1.6;
  }
  .modal textarea {
    width: 100%;
    height: 200px;
    padding: 12px;
    background: #f8f9fa;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #2d3748;
    font-family: monospace;
    font-size: 12px;
    resize: vertical;
    outline: none;
  }
  .modal textarea:focus {
    border-color: #8BC53F;
    box-shadow: 0 0 0 3px rgba(139, 197, 63, 0.1);
  }
  .modal-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
    justify-content: flex-end;
  }
  .modal .btn-primary {
    background: #8BC53F;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    cursor: pointer;
    color: white;
    font-size: 14px;
    font-weight: 600;
    transition: background 0.2s;
  }
  .modal .btn-primary:hover {
    background: #7AB82E;
  }
  .modal .btn-secondary {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 10px 20px;
    cursor: pointer;
    color: #718096;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s;
  }
  .modal .btn-secondary:hover {
    background: #f8f9fa;
    border-color: #cbd5e0;
  }

  /* Search */
  .search-wrap {
    position: relative;
    margin-bottom: 32px;
  }
  .search-wrap svg {
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: #a0aec0;
    pointer-events: none;
  }
  .search-wrap input {
    width: 100%;
    padding: 14px 16px 14px 48px;
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    color: #2d3748;
    font-size: 15px;
    outline: none;
    transition: all 0.2s;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }
  .search-wrap input:focus {
    border-color: #8BC53F;
    box-shadow: 0 0 0 3px rgba(139, 197, 63, 0.1), 0 1px 3px rgba(0,0,0,0.05);
  }
  .search-wrap input::placeholder {
    color: #a0aec0;
  }

  /* Category */
  .category {
    margin-bottom: 36px;
  }
  .cat-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 16px;
    padding: 0 4px;
  }
  .cat-header-left {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .cat-header-left .emoji {
    font-size: 24px;
  }
  .cat-header-left .name {
    font-size: 18px;
    font-weight: 700;
    color: #2d3748;
    letter-spacing: -0.3px;
  }
  .cat-header-left .count {
    font-size: 12px;
    color: #718096;
    background: #f1f5f9;
    padding: 3px 10px;
    border-radius: 12px;
    font-weight: 600;
  }
  .cat-header-right {
    display: flex;
    gap: 8px;
  }

  .btn-add {
    background: #8BC53F;
    border: none;
    border-radius: 8px;
    padding: 6px 12px;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    transition: all 0.2s;
  }
  .btn-add:hover {
    background: #7AB82E;
    transform: translateY(-1px);
  }

  .btn-del-cat {
    background: white;
    border: 1px solid #fed7d7;
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
    color: #e53e3e;
    display: flex;
    transition: all 0.2s;
  }
  .btn-del-cat:hover {
    background: #fff5f5;
    border-color: #fc8181;
  }

  /* Form panel */
  .form-panel {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
    animation: slideDown 0.2s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .form-row {
    display: flex;
    gap: 10px;
    align-items: flex-end;
    flex-wrap: wrap;
  }
  .form-group {
    display: flex;
    flex-direction: column;
  }
  .form-group.f-name {
    flex: 1 1 140px;
  }
  .form-group.f-desc {
    flex: 1 1 140px;
  }
  .form-group.f-url {
    flex: 2 1 200px;
  }
  .form-group label {
    font-size: 11px;
    color: #718096;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
    font-weight: 600;
  }
  .form-group input {
    padding: 10px 12px;
    background: #f8f9fa;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #2d3748;
    font-size: 14px;
    outline: none;
    transition: all 0.2s;
  }
  .form-group input::placeholder {
    color: #a0aec0;
  }
  .form-group input:focus {
    border-color: #8BC53F;
    background: white;
    box-shadow: 0 0 0 3px rgba(139, 197, 63, 0.1);
  }

  .color-row {
    display: flex;
    gap: 6px;
    align-items: center;
    flex-wrap: wrap;
    max-width: 160px;
  }
  .color-dot {
    width: 26px;
    height: 26px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s;
  }
  .color-dot:hover {
    transform: scale(1.15);
  }
  .color-dot.active {
    border-color: #2d3748;
    box-shadow: 0 0 0 2px white, 0 0 0 4px #2d3748;
  }

  .btn-primary {
    background: #8BC53F;
    border: none;
    border-radius: 8px;
    padding: 10px 16px;
    cursor: pointer;
    color: white;
    font-size: 14px;
    font-weight: 600;
    white-space: nowrap;
    transition: all 0.2s;
  }
  .btn-primary:hover {
    background: #7AB82E;
  }

  .btn-cancel {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 10px 12px;
    cursor: pointer;
    color: #718096;
    display: flex;
    align-items: center;
    transition: all 0.2s;
  }
  .btn-cancel:hover {
    background: #f8f9fa;
    border-color: #cbd5e0;
  }

  /* Cards grid */
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 16px;
  }

  /* App card */
  .app-card {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 18px 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }
  .app-card:hover {
    border-color: #8BC53F;
    box-shadow: 0 4px 12px rgba(139, 197, 63, 0.15);
    transform: translateY(-3px);
  }
  .app-card:active {
    transform: translateY(-1px);
  }

  .card-actions {
    position: absolute;
    top: 12px;
    right: 12px;
    display: none;
    gap: 6px;
    z-index: 2;
  }
  .app-card:hover .card-actions {
    display: flex;
  }

  .btn-edit,
  .btn-del {
    border: none;
    border-radius: 6px;
    padding: 6px 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
  }
  .btn-edit {
    background: #f1f5f9;
    color: #475569;
  }
  .btn-edit:hover {
    background: #e2e8f0;
  }
  .btn-del {
    background: #fff5f5;
    color: #e53e3e;
  }
  .btn-del:hover {
    background: #fed7d7;
  }

  .card-body {
    display: flex;
    align-items: center;
    gap: 14px;
    flex: 1;
  }
  .card-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    color: white;
    transition: transform 0.15s;
  }
  .app-card:active .card-icon {
    transform: scale(0.94);
  }

  .card-text {
    flex: 1;
    min-width: 0;
  }
  .card-text .app-name {
    font-size: 16px;
    font-weight: 600;
    color: #2d3748;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 2px;
  }
  .card-text .app-desc {
    font-size: 13px;
    color: #718096;
  }

  .card-ext {
    flex-shrink: 0;
    color: #cbd5e0;
    transition: color 0.2s;
  }
  .app-card:hover .card-ext {
    color: var(--card-color, #8BC53F);
  }

  .card-url {
    font-size: 11px;
    color: #a0aec0;
    font-family: monospace;
    padding-top: 8px;
    border-top: 1px solid #f1f5f9;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Edit mode card */
  .app-card.editing {
    background: #f8fcf4;
    border-color: #8BC53F;
    cursor: default;
  }
  .edit-actions {
    display: flex;
    gap: 8px;
    margin-top: 8px;
  }
  .edit-actions .btn-primary {
    flex: 1;
    padding: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
  }
  .edit-actions .btn-cancel {
    padding: 9px 12px;
  }

  /* Add category button */
  .btn-add-cat {
    width: 100%;
    margin-top: 12px;
    padding: 16px;
    background: white;
    border: 2px dashed #cbd5e0;
    border-radius: 12px;
    color: #718096;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.2s;
  }
  .btn-add-cat:hover {
    border-color: #8BC53F;
    color: #8BC53F;
    background: #f8fcf4;
  }

  .cat-form {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 18px;
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    margin-top: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }
  .cat-form input.emoji-input {
    width: 48px;
    text-align: center;
    font-size: 20px;
    flex: none;
    padding: 10px 6px;
    background: #f8f9fa;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #2d3748;
    outline: none;
    transition: all 0.2s;
  }
  .cat-form input.name-input {
    flex: 1 1 200px;
    padding: 10px 12px;
    background: #f8f9fa;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #2d3748;
    font-size: 15px;
    outline: none;
    transition: all 0.2s;
  }
  .cat-form input::placeholder {
    color: #a0aec0;
  }
  .cat-form input:focus {
    border-color: #8BC53F;
    background: white;
    box-shadow: 0 0 0 3px rgba(139, 197, 63, 0.1);
  }

  .footer {
    text-align: center;
    color: #a0aec0;
    font-size: 13px;
    margin-top: 48px;
    padding-bottom: 20px;
  }

  svg {
    display: block;
  }

  .hidden {
    display: none;
  }
</style>
</head>
<body>

<!-- Top Bar -->
<div class="top-bar">
  <div class="logo-area">
    <img src="data:image/png;base64,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" alt="British Sugar Logo" class="logo-image">
    <div class="logo-text">
      <span class="main">App Hub</span>
      <span class="sub">British Sugar</span>
    </div>
  </div>
  <button class="export-btn" id="exportBtn">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="7 10 12 15 17 10"></polyline>
      <line x1="12" y1="15" x2="12" y2="3"></line>
    </svg>
    Export Data
  </button>
</div>

<!-- Export Modal -->
<div id="exportModal" class="modal-overlay hidden">
  <div class="modal">
    <h2>Export Your Data</h2>
    <p>Copy this JSON data and save it somewhere safe. You can use it to restore your workspace or share it with others.</p>
    <textarea id="exportTextarea" readonly></textarea>
    <div class="modal-actions">
      <button class="btn-secondary" id="closeModal">Close</button>
      <button class="btn-primary" id="copyBtn">Copy to Clipboard</button>
    </div>
  </div>
</div>

<div class="container">
  <div class="page-header">
    <h1>Your Apps</h1>
    <p>Quick access to all your essential tools</p>
  </div>

  <div class="search-wrap">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
    <input type="text" id="searchInput" placeholder="Search your apps...">
  </div>

  <div id="categoriesContainer"></div>

  <div id="addCategoryArea"></div>

  <div class="footer">Hover over a card to edit or remove Â· Everything saves automatically</div>
</div>

<script>
// â”€â”€â”€ SVG helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SVG = {
  plus: `<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>`,
  x: `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>`,
  pencil: `<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>`,
  trash: `<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"/></svg>`,
  ext: `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>`,
  check: `<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>`,
  folder: `<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/><line x1="12" y1="11" x2="12" y2="17"/><line x1="9" y1="14" x2="15" y2="14"/></svg>`,
};

// â”€â”€â”€ Data & state â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const COLORS = ["#8BC53F","#7AB82E","#6AA61D","#5C941A","#4B7E15","#3B6E11","#F59E0B","#EF4444","#3B82F6","#8B5CF6"];
const STORAGE_KEY = "workspace-hub-data";

const DEFAULT_DATA = [
  { id:"hr", name:"HR & People", emoji:"ðŸ‘¥", apps:[
    { id:1, name:"SuccessFactors", desc:"People Hub",        url:"https://performancemanager.successfactors.eu/sf/home?bplte_company=britishsugar&_s.crb=95xciufTHZwCzHYjKQSirdsvsM2zilknPWUDmjEX3Yo%3d", color:"#8BC53F" },
    { id:2, name:"Dimensions",     desc:"Holiday Booking",   url:"https://britishsugar-sso.prd.mykronos.com/wfd/home", color:"#7AB82E" },
    { id:1770152691218, name:"SAP Concur", desc:"Claim Expenses", url:"https://eu2.concursolutions.com/nui/signin?targetURL=%2Fhome", color:"#F59E0B" },
  ]},
  { id:"analytics", name:"Analytics & Data", emoji:"ðŸ“Š", apps:[
    { id:3, name:"Seeq",           desc:"Trends & Analytics", url:"https://britishsugar.seeq.tech/",          color:"#6AA61D" },
    { id:1770152509945, name:"Lost Opp", desc:"Lost Oppertunity Booking", url:"https://lop-prod.britishsugar.com/Operator", color:"#3B82F6" },
    { id:1770152601565, name:"FTR", desc:"Lab Results", url:"https://ftr-app.azurewebsites.net/login", color:"#8BC53F" },
    { id:1770152828271, name:"QF/Chemical app", desc:"Add QF/LED and chemicals data", url:"https://script.google.com/macros/s/AKfycbwLLQJntWsBaEiA7FMa-u2AplGdxW7tNjAXIV0cwByz0EKDIlVnyS9Qate2ip_dIMVS/exec", color:"#5C941A" },
  ]},
  { id:"general", name:"General", emoji:"ðŸ“Œ", apps:[
    { id:1770153056606, name:"HxGN", desc:"Create Work Orders", url:"https://eu1.eam.hxgnsmartcloud.com/web/base/logindisp?tenant=BRITISHSUGAR_PRD", color:"#EF4444" },
    { id:1770153139586, name:"SIC", desc:"Short Interval Control", url:"https://abfoods.sharepoint.com/sites/bsu-cantleyteamssite/Lists/Cantley%20Performance%20Actions/Short%20Interval%20Control.aspx?viewid=227be9ec-2f19-4264-847d-27472793f812&env=WebViewList&OR=Teams-HL&CT=1733960021665&clickparams=eyJBcHBOYW1lIjoiVGVhbXMtRGVza3RvcCIsIkFwcFZlcnNpb24iOiI0OS8yNDExMDExNTcyMiIsIkhhc0ZlZGVyYXRlZFVzZXIiOmZhbHNlfQ%3D%3D", color:"#F59E0B" },
    { id:1770153195640, name:"British Sugar Intranet", desc:"", url:"https://abfoods.sharepoint.com/sites/bsu-hub", color:"#7AB82E" },
    { id:1770153282586, name:"Change Log", desc:"Plant change Log", url:"https://teams.microsoft.com/l/entity/26bc2873-6023-480c-a11b-76b66605ce8c/_djb2_msteams_prefix_2011203644?context=%7B%22channelId%22%3A%2219%3AyIxeEUzWyRK1PMTDiin__Or4MWFuK6Dhq2vAmFYv8741%40thread.tacv2%22%7D&tenantId=39c5be5d-2510-4eee-9ca0-197a6e89e482", color:"#6AA61D" },
    { id:1770153316288, name:"Shift Logs", desc:"", url:"https://teams.microsoft.com/l/entity/com.microsoft.teamspace.tab.planner/_djb2_msteams_prefix_898003600?context=%7B%22channelId%22%3A%2219%3AyIxeEUzWyRK1PMTDiin__Or4MWFuK6Dhq2vAmFYv8741%40thread.tacv2%22%7D&tenantId=39c5be5d-2510-4eee-9ca0-197a6e89e482", color:"#8BC53F" },
    { id:1770153412955, name:"Alcumus", desc:"Incident Reporting", url:"https://britishsugar.info-exchange.com/app/incidents/home", color:"#8B5CF6" },
    { id:1770153448285, name:"Ideas App", desc:"", url:"https://teams.microsoft.com/l/entity/a6b63365-31a4-4f43-92ec-710b71557af9/_djb2_msteams_prefix_2569765742?context=%7B%22chatId%22%3A%2219%3A9f7c1791d44744eca1ec1c5b572a1d9f%40thread.v2%22%2C%22contextType%22%3A%22chat%22%7D&tenantId=39c5be5d-2510-4eee-9ca0-197a6e89e482", color:"#5C941A" },
    { id:1770153572299, name:"Ops Chat", desc:"Operational Communications Chat", url:"https://teams.microsoft.com/l/chat/19:9f7c1791d44744eca1ec1c5b572a1d9f@thread.v2/conversations?context=%7B%22contextType%22%3A%22chat%22%7D", color:"#7AB82E" },
  ] },
];

let categories = loadData();
let addingTo      = null;
let editingApp    = null;
let addingCat     = false;

function loadData() {
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    return raw ? JSON.parse(raw) : JSON.parse(JSON.stringify(DEFAULT_DATA));
  } catch { return JSON.parse(JSON.stringify(DEFAULT_DATA)); }
}
function saveData() { localStorage.setItem(STORAGE_KEY, JSON.stringify(categories)); }

// â”€â”€â”€ Export functionality â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('exportBtn').addEventListener('click', () => {
  const data = localStorage.getItem(STORAGE_KEY) || JSON.stringify(categories, null, 2);
  document.getElementById('exportTextarea').value = data;
  document.getElementById('exportModal').classList.remove('hidden');
});

document.getElementById('closeModal').addEventListener('click', () => {
  document.getElementById('exportModal').classList.add('hidden');
});

document.getElementById('copyBtn').addEventListener('click', () => {
  const textarea = document.getElementById('exportTextarea');
  textarea.select();
  document.execCommand('copy');
  
  const btn = document.getElementById('copyBtn');
  const originalText = btn.textContent;
  btn.textContent = 'âœ“ Copied!';
  setTimeout(() => {
    btn.textContent = originalText;
  }, 2000);
});

document.getElementById('exportModal').addEventListener('click', (e) => {
  if (e.target.id === 'exportModal') {
    document.getElementById('exportModal').classList.add('hidden');
  }
});

// â”€â”€â”€ Render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function render() {
  const search = document.getElementById("searchInput").value.toLowerCase();

  const filtered = categories.map(cat => ({
    ...cat,
    apps: cat.apps.filter(a => a.name.toLowerCase().includes(search) || a.desc.toLowerCase().includes(search))
  })).filter(cat => cat.apps.length > 0 || !search);

  document.getElementById("categoriesContainer").innerHTML = filtered.map(cat => renderCategory(cat)).join("");
  renderAddCategoryArea();

  document.querySelectorAll(".btn-add[data-cat]").forEach(btn => {
    btn.addEventListener("click", () => { addingTo = (addingTo === btn.dataset.cat) ? null : btn.dataset.cat; render(); });
  });
  document.querySelectorAll(".btn-del-cat[data-cat]").forEach(btn => {
    btn.addEventListener("click", () => { categories = categories.filter(c => c.id !== btn.dataset.cat); saveData(); render(); });
  });
  document.querySelectorAll(".app-card[data-cat][data-app]").forEach(card => {
    card.addEventListener("click", (e) => {
      if (e.target.closest(".btn-edit, .btn-del, .card-actions")) return;
      const app = getApp(card.dataset.cat, card.dataset.app);
      if (app) window.open(app.url, "_blank", "noopener,noreferrer");
    });
  });
  document.querySelectorAll(".btn-edit[data-cat][data-app]").forEach(btn => {
    btn.addEventListener("click", (e) => { e.stopPropagation(); editingApp = { catId: btn.dataset.cat, app: { ...getApp(btn.dataset.cat, btn.dataset.app) } }; render(); });
  });
  document.querySelectorAll(".btn-del[data-cat][data-app]").forEach(btn => {
    btn.addEventListener("click", (e) => { e.stopPropagation(); removeApp(btn.dataset.cat, btn.dataset.app); });
  });

  const addForm = document.getElementById("addForm");
  if (addForm) {
    addForm.querySelector("#formName").addEventListener("input", e => formState.name = e.target.value);
    addForm.querySelector("#formDesc").addEventListener("input", e => formState.desc = e.target.value);
    addForm.querySelector("#formUrl").addEventListener("input", e => formState.url = e.target.value);
    addForm.querySelector("#formUrl").addEventListener("keydown", e => { if (e.key === "Enter") submitAdd(); });
    addForm.querySelectorAll(".color-dot").forEach(dot => {
      dot.addEventListener("click", () => { formState.color = dot.dataset.color; render(); });
    });
    addForm.querySelector("#btnSubmitAdd").addEventListener("click", submitAdd);
    addForm.querySelector("#btnCancelAdd").addEventListener("click", () => { addingTo = null; formState = { name:"", desc:"", url:"", color: COLORS[0] }; render(); });
  }

  const editForm = document.getElementById("editForm");
  if (editForm && editingApp) {
    editForm.querySelector("#editName").addEventListener("input", e => editingApp.app.name = e.target.value);
    editForm.querySelector("#editDesc").addEventListener("input", e => editingApp.app.desc = e.target.value);
    editForm.querySelector("#editUrl").addEventListener("input", e => editingApp.app.url = e.target.value);
    editForm.querySelectorAll(".color-dot").forEach(dot => {
      dot.addEventListener("click", () => { editingApp.app.color = dot.dataset.color; render(); });
    });
    editForm.querySelector("#btnSaveEdit").addEventListener("click", submitEdit);
    editForm.querySelector("#btnCancelEdit").addEventListener("click", () => { editingApp = null; render(); });
  }

  const catFormEl = document.getElementById("catForm");
  if (catFormEl) {
    catFormEl.querySelector("#catEmoji").addEventListener("input", e => newCatState.emoji = e.target.value);
    catFormEl.querySelector("#catName").addEventListener("input", e => newCatState.name = e.target.value);
    catFormEl.querySelector("#catName").addEventListener("keydown", e => { if (e.key === "Enter") submitAddCat(); });
    catFormEl.querySelector("#btnCreateCat").addEventListener("click", submitAddCat);
    catFormEl.querySelector("#btnCancelCat").addEventListener("click", () => { addingCat = false; newCatState = { name:"", emoji:"ðŸ“" }; render(); });
  }
  const addCatBtn = document.getElementById("btnAddCat");
  if (addCatBtn) addCatBtn.addEventListener("click", () => { addingCat = true; render(); });
}

function renderCategory(cat) {
  const isAdding  = addingTo === cat.id;
  const showDel   = cat.apps.length === 0;

  return `
  <div class="category">
    <div class="cat-header">
      <div class="cat-header-left">
        <span class="emoji">${cat.emoji}</span>
        <span class="name">${escHtml(cat.name)}</span>
        <span class="count">${cat.apps.length}</span>
      </div>
      <div class="cat-header-right">
        <button class="btn-add" data-cat="${cat.id}">${SVG.plus} Add</button>
        ${showDel ? `<button class="btn-del-cat" data-cat="${cat.id}">${SVG.trash}</button>` : ""}
      </div>
    </div>

    ${isAdding ? renderAddForm(cat.id) : ""}

    <div class="cards-grid">
      ${cat.apps.map(app => renderCard(cat.id, app)).join("")}
    </div>
  </div>`;
}

function renderCard(catId, app) {
  if (editingApp && editingApp.catId === catId && editingApp.app.id === app.id) return renderEditCard(catId);

  return `
  <div class="app-card" data-cat="${catId}" data-app="${app.id}" style="--card-color:${app.color}">
    <div class="card-actions">
      <button class="btn-edit" data-cat="${catId}" data-app="${app.id}">${SVG.pencil}</button>
      <button class="btn-del"  data-cat="${catId}" data-app="${app.id}">${SVG.trash}</button>
    </div>
    <div class="card-body">
      <div class="card-icon" style="background:linear-gradient(135deg,${app.color},${app.color}dd); box-shadow:0 3px 10px ${app.color}40;">
        ${escHtml(app.name.charAt(0).toUpperCase())}
      </div>
      <div class="card-text">
        <div class="app-name">${escHtml(app.name)}</div>
        ${app.desc ? `<div class="app-desc">${escHtml(app.desc)}</div>` : ""}
      </div>
      <div class="card-ext">${SVG.ext}</div>
    </div>
    <div class="card-url">${escHtml(app.url.replace(/^https?:\/\//,""))}</div>
  </div>`;
}

function renderEditCard(catId) {
  const a = editingApp.app;
  return `
  <div class="app-card editing" id="editForm">
    <input style="padding:10px 12px;background:#f8f9fa;border:1px solid #e2e8f0;border-radius:8px;color:#2d3748;font-size:14px;outline:none;margin-bottom:8px;" id="editName" value="${escHtml(a.name)}" placeholder="Name" />
    <input style="padding:10px 12px;background:#f8f9fa;border:1px solid #e2e8f0;border-radius:8px;color:#2d3748;font-size:14px;outline:none;margin-bottom:8px;" id="editDesc" value="${escHtml(a.desc)}" placeholder="Description" />
    <input style="padding:10px 12px;background:#f8f9fa;border:1px solid #e2e8f0;border-radius:8px;color:#2d3748;font-size:14px;outline:none;margin-bottom:10px;" id="editUrl" value="${escHtml(a.url)}" placeholder="URL" />
    <div class="color-row" style="margin-bottom:10px;">${COLORS.map(c=>`<div class="color-dot ${a.color===c?"active":""}" data-color="${c}" style="background:${c}"></div>`).join("")}</div>
    <div class="edit-actions">
      <button class="btn-primary" id="btnSaveEdit">${SVG.check} Save</button>
      <button class="btn-cancel" id="btnCancelEdit">${SVG.x}</button>
    </div>
  </div>`;
}

function renderAddForm(catId) {
  return `
  <div class="form-panel" id="addForm">
    <div class="form-row">
      <div class="form-group f-name">
        <label>App Name *</label>
        <input id="formName" value="${escHtml(formState.name)}" placeholder="e.g. Slack" />
      </div>
      <div class="form-group f-desc">
        <label>Description</label>
        <input id="formDesc" value="${escHtml(formState.desc)}" placeholder="e.g. Messaging" />
      </div>
      <div class="form-group f-url">
        <label>URL *</label>
        <input id="formUrl" value="${escHtml(formState.url)}" placeholder="e.g. slack.com" />
      </div>
      <div style="display:flex;gap:8px;align-items:flex-end;">
        <div class="color-row">${COLORS.map(c=>`<div class="color-dot ${formState.color===c?"active":""}" data-color="${c}" style="background:${c}"></div>`).join("")}</div>
        <button class="btn-primary" id="btnSubmitAdd">Add</button>
        <button class="btn-cancel" id="btnCancelAdd">${SVG.x}</button>
      </div>
    </div>
  </div>`;
}

function renderAddCategoryArea() {
  const el = document.getElementById("addCategoryArea");
  if (addingCat) {
    el.innerHTML = `
    <div class="cat-form" id="catForm">
      <input class="emoji-input" id="catEmoji" value="${escHtml(newCatState.emoji)}" placeholder="ðŸ“" />
      <input class="name-input" id="catName" value="${escHtml(newCatState.name)}" placeholder="Category name" />
      <button class="btn-primary" id="btnCreateCat">Create</button>
      <button class="btn-cancel" id="btnCancelCat">${SVG.x}</button>
    </div>`;
  } else {
    el.innerHTML = `<button class="btn-add-cat" id="btnAddCat">${SVG.folder} Add Category</button>`;
  }
}

let formState   = { name:"", desc:"", url:"", color: COLORS[0] };
let newCatState = { name:"", emoji:"ðŸ“" };

function submitAdd() {
  if (!formState.name || !formState.url) return;
  const url = formState.url.startsWith("http") ? formState.url : "https://" + formState.url;
  const cat = categories.find(c => c.id === addingTo);
  if (cat) cat.apps.push({ id: Date.now(), name: formState.name, desc: formState.desc, url, color: formState.color });
  saveData();
  addingTo  = null;
  formState = { name:"", desc:"", url:"", color: COLORS[0] };
  render();
}

function submitEdit() {
  if (!editingApp) return;
  const url = editingApp.app.url.startsWith("http") ? editingApp.app.url : "https://" + editingApp.app.url;
  const cat = categories.find(c => c.id === editingApp.catId);
  if (cat) {
    const idx = cat.apps.findIndex(a => a.id === editingApp.app.id);
    if (idx > -1) cat.apps[idx] = { ...editingApp.app, url };
  }
  saveData();
  editingApp = null;
  render();
}

function removeApp(catId, appId) {
  const cat = categories.find(c => c.id === catId);
  if (cat) cat.apps = cat.apps.filter(a => String(a.id) !== String(appId));
  saveData();
  render();
}

function submitAddCat() {
  if (!newCatState.name) return;
  categories.push({ id: Date.now().toString(), name: newCatState.name, emoji: newCatState.emoji, apps: [] });
  saveData();
  addingCat   = false;
  newCatState = { name:"", emoji:"ðŸ“" };
  render();
}

function getApp(catId, appId) {
  const cat = categories.find(c => c.id === catId);
  return cat ? cat.apps.find(a => String(a.id) === String(appId)) : null;
}

function escHtml(s) { return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"); }

document.getElementById("searchInput").addEventListener("input", render);
render();
</script>

</body>
</html>
